# Nixpacks configuration for Railway
# This tells Railway exactly how to build and run the app

[build]
# Install Python, pip, and yt-dlp FIRST
# Then install Node dependencies
cmds = [
  "apt-get update && apt-get install -y python3 python3-pip ffmpeg",
  "pip3 install --upgrade yt-dlp",
  "cd youtube-backend && npm install"
]

[start]
# Verify yt-dlp is available, then start the server
cmd = "which yt-dlp && cd youtube-backend && node server.js"

